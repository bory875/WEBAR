(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))n(e);new MutationObserver(e=>{for(const t of e)if(t.type==="childList")for(const r of t.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&n(r)}).observe(document,{childList:!0,subtree:!0});function i(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?t.credentials="include":e.crossOrigin==="anonymous"?t.credentials="omit":t.credentials="same-origin",t}function n(e){if(e.ep)return;e.ep=!0;const t=i(e);fetch(e.href,t)}})();let h={video:{facingMode:"user",width:1280,height:720},audio:!1};window.startProcessing=function(){let o=document.getElementById("webcam");navigator.mediaDevices.getUserMedia(h).then(function(n){o.srcObject=n,o.play(),o.addEventListener("loadeddata",i)}).catch(function(n){console.log("An error occurred! "+n)});function i(){let n=o.videoHeight,e=o.videoWidth,t=document.getElementById("transferCanvas").getContext("2d");t.canvas.width=e,t.canvas.height=n;let r=new cv.Mat(n,e,cv.CV_8UC4),d=new cv.Mat(n,e,cv.CV_8UC4),c=new cv.Mat(n,e,cv.CV_8UC1);new cv.Mat,new cv.Scalar(255,0,0),cv.Mat.ones(1,2,cv.CV_8U),new cv.Point(-1,-1);const l=150,u=130,f=3,v=30;function a(){let g=Date.now();t.drawImage(o,0,0,e,n),r.data.set(t.getImageData(0,0,e,n).data),cv.cvtColor(r,c,cv.COLOR_RGBA2GRAY),cv.Canny(c,c,l,u,f,!0),cv.cvtColor(c,d,cv.COLOR_GRAY2RGBA),cv.imshow("displayCanvas",c);let m=1e3/v-(Date.now()-g);setTimeout(a,m)}setTimeout(a,0)}};
